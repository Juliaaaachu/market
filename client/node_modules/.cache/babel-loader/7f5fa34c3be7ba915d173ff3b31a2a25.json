{"ast":null,"code":"var _jsxFileName = \"/Users/juliachu/Dropbox/CS/market/client/src/Components/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { GoogleLogin } from 'react-google-login';\nimport { Button } from '@material-ui/core';\nimport GoogleIcon from '@mui/icons-material/Google';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clientId = '381794249860-mcjanab1cd2803ksbek94pgk5me0k7d9.apps.googleusercontent.com';\n\nfunction Login() {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const googleSuccess = async res => {\n    const result = res === null || res === void 0 ? void 0 : res.profileObj;\n    const token = res === null || res === void 0 ? void 0 : res.tokenId;\n\n    try {\n      const res = await axios.post('/user/google_login', {\n        tokenId: token,\n        profileObj: result\n      });\n      dispatch({\n        type: 'AUTH',\n        data: {\n          result,\n          token\n        }\n      });\n      navigate('/');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const googleError = error => console.log(error);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"googleLogin\",\n    children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n      clientId: clientId,\n      render: renderProps => /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: renderProps.onClick,\n        disabled: renderProps.disabled,\n        startIcon: /*#__PURE__*/_jsxDEV(GoogleIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 106\n        }, this),\n        variant: \"contained\",\n        children: \"Google Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this),\n      onSuccess: googleSuccess,\n      onFailure: googleError,\n      cookiePolicy: \"single_host_origin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"R1L93MxeLXzQXESpmjjjQSuQgvM=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["GoogleLogin","Button","GoogleIcon","useDispatch","useNavigate","useLocation","axios","clientId","Login","dispatch","navigate","googleSuccess","res","result","profileObj","token","tokenId","post","type","data","error","console","log","googleError","renderProps","onClick","disabled"],"sources":["/Users/juliachu/Dropbox/CS/market/client/src/Components/Login.jsx"],"sourcesContent":["import {GoogleLogin} from 'react-google-login'\nimport { Button } from '@material-ui/core';\nimport GoogleIcon from '@mui/icons-material/Google';\nimport { useDispatch } from 'react-redux'\nimport {useNavigate, useLocation} from 'react-router-dom'\nimport axios from 'axios'\n\nconst clientId = '381794249860-mcjanab1cd2803ksbek94pgk5me0k7d9.apps.googleusercontent.com'\n\nfunction Login () {\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n    \n\n    const googleSuccess = async (res) => {\n      const result = res?.profileObj;\n      const token = res?.tokenId;\n\n      try {\n       const res = await axios.post('/user/google_login', {tokenId: token, profileObj: result})\n        dispatch({ type: 'AUTH', data: { result, token } });\n        navigate('/');\n      } catch (error) {\n        console.log(error);\n      }\n\n  };\n    const googleError = (error) => console.log(error);\n\n  return(\n    <div id=\"googleLogin\"> \n        <GoogleLogin\n        clientId= {clientId}\n        render={(renderProps) => (\n        <Button color=\"primary\" onClick={renderProps.onClick} disabled={renderProps.disabled} startIcon={<GoogleIcon />} variant=\"contained\">\n            Google Sign In\n        </Button>\n        )}\n        onSuccess={googleSuccess}\n        onFailure={googleError}\n        cookiePolicy=\"single_host_origin\"\n  /></div>\n  )\n}\n\nexport default Login\n\n\n \n"],"mappings":";;;AAAA,SAAQA,WAAR,QAA0B,oBAA1B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,kBAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAG,0EAAjB;;AAEA,SAASC,KAAT,GAAkB;EAAA;;EACd,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EACA,MAAMO,QAAQ,GAAGN,WAAW,EAA5B;;EAGA,MAAMO,aAAa,GAAG,MAAOC,GAAP,IAAe;IACnC,MAAMC,MAAM,GAAGD,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEE,UAApB;IACA,MAAMC,KAAK,GAAGH,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEI,OAAnB;;IAEA,IAAI;MACH,MAAMJ,GAAG,GAAG,MAAMN,KAAK,CAACW,IAAN,CAAW,oBAAX,EAAiC;QAACD,OAAO,EAAED,KAAV;QAAiBD,UAAU,EAAED;MAA7B,CAAjC,CAAlB;MACCJ,QAAQ,CAAC;QAAES,IAAI,EAAE,MAAR;QAAgBC,IAAI,EAAE;UAAEN,MAAF;UAAUE;QAAV;MAAtB,CAAD,CAAR;MACAL,QAAQ,CAAC,GAAD,CAAR;IACD,CAJD,CAIE,OAAOU,KAAP,EAAc;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EAEJ,CAZC;;EAaA,MAAMG,WAAW,GAAIH,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAA/B;;EAEF,oBACE;IAAK,EAAE,EAAC,aAAR;IAAA,uBACI,QAAC,WAAD;MACA,QAAQ,EAAGb,QADX;MAEA,MAAM,EAAGiB,WAAD,iBACR,QAAC,MAAD;QAAQ,KAAK,EAAC,SAAd;QAAwB,OAAO,EAAEA,WAAW,CAACC,OAA7C;QAAsD,QAAQ,EAAED,WAAW,CAACE,QAA5E;QAAsF,SAAS,eAAE,QAAC,UAAD;UAAA;UAAA;UAAA;QAAA,QAAjG;QAAiH,OAAO,EAAC,WAAzH;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHA;MAOA,SAAS,EAAEf,aAPX;MAQA,SAAS,EAAEY,WARX;MASA,YAAY,EAAC;IATb;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADF;AAcD;;GAlCQf,K;UACYL,W,EACAC,W;;;KAFZI,K;AAoCT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}